// <auto-generated />
using System;
using System.Runtime.InteropServices;

namespace Metal.NET;

internal static class MTLComputeCommandEncoder_Selectors
{
    internal static readonly Selector dispatchType = Selector.Register("dispatchType");
    internal static readonly Selector computePipelineState = Selector.Register("computePipelineState");
    internal static readonly Selector setComputePipelineState_ = Selector.Register("setComputePipelineState:");
    internal static readonly Selector stageInRegion = Selector.Register("stageInRegion");
    internal static readonly Selector setStageInRegion_ = Selector.Register("setStageInRegion:");
    internal static readonly Selector executeCommandsInBuffer = Selector.Register("executeCommandsInBuffer");
    internal static readonly Selector memoryBarrier = Selector.Register("memoryBarrier");
    internal static readonly Selector sampleCountersInBuffer = Selector.Register("sampleCountersInBuffer");
    internal static readonly Selector setAccelerationStructure = Selector.Register("setAccelerationStructure");
    internal static readonly Selector setBuffer = Selector.Register("setBuffer");
    internal static readonly Selector setBufferOffset = Selector.Register("setBufferOffset");
    internal static readonly Selector setBytes = Selector.Register("setBytes");
    internal static readonly Selector setImageblockWidth = Selector.Register("setImageblockWidth");
    internal static readonly Selector setIntersectionFunctionTable = Selector.Register("setIntersectionFunctionTable");
    internal static readonly Selector setSamplerState = Selector.Register("setSamplerState");
    internal static readonly Selector setStageInRegion = Selector.Register("setStageInRegion");
    internal static readonly Selector setTexture = Selector.Register("setTexture");
    internal static readonly Selector setThreadgroupMemoryLength = Selector.Register("setThreadgroupMemoryLength");
    internal static readonly Selector setVisibleFunctionTable = Selector.Register("setVisibleFunctionTable");
    internal static readonly Selector updateFence = Selector.Register("updateFence");
    internal static readonly Selector useHeap = Selector.Register("useHeap");
    internal static readonly Selector useResource = Selector.Register("useResource");
    internal static readonly Selector waitForFence = Selector.Register("waitForFence");
}

[StructLayout(LayoutKind.Sequential)]
public readonly struct MTLComputeCommandEncoder
{
    public readonly nint NativePtr;

    public MTLComputeCommandEncoder(nint ptr) => NativePtr = ptr;

    public bool IsNull => NativePtr == 0;

    public static implicit operator nint(MTLComputeCommandEncoder o) => o.NativePtr;
    public static implicit operator MTLComputeCommandEncoder(nint ptr) => new MTLComputeCommandEncoder(ptr);

    public MTLDispatchType DispatchType
    {
        get => (MTLDispatchType)(ObjectiveCRuntime.uint_objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.dispatchType));
    }

    public MTLComputePipelineState ComputePipelineState
    {
        get => new MTLComputePipelineState(ObjectiveCRuntime.intptr_objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.computePipelineState));
        set => ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.setComputePipelineState_, value.NativePtr);
    }

    // TODO: StageInRegion (value-struct return type MTLRegion requires objc_msgSend_stret)

    public void ExecuteCommandsInBuffer(MTLIndirectCommandBuffer indirectCommandBuffer, nint executionRange)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.executeCommandsInBuffer, indirectCommandBuffer.NativePtr, executionRange);
    }

    public void ExecuteCommandsInBuffer(MTLIndirectCommandBuffer indirectCommandbuffer, MTLBuffer indirectRangeBuffer, nuint indirectBufferOffset)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.executeCommandsInBuffer, indirectCommandbuffer.NativePtr, indirectRangeBuffer.NativePtr, (nint)indirectBufferOffset);
    }

    public void MemoryBarrier(MTLBarrierScope scope)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.memoryBarrier, (nint)(uint)scope);
    }

    public void SampleCountersInBuffer(MTLCounterSampleBuffer sampleBuffer, nuint sampleIndex, Bool8 barrier)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.sampleCountersInBuffer, sampleBuffer.NativePtr, (nint)sampleIndex, (nint)barrier.Value);
    }

    public void SetAccelerationStructure(MTLAccelerationStructure accelerationStructure, nuint bufferIndex)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.setAccelerationStructure, accelerationStructure.NativePtr, (nint)bufferIndex);
    }

    public void SetBuffer(MTLBuffer buffer, nuint offset, nuint index)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.setBuffer, buffer.NativePtr, (nint)offset, (nint)index);
    }

    public void SetBuffer(MTLBuffer buffer, nuint offset, nuint stride, nuint index)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.setBuffer, buffer.NativePtr, (nint)offset, (nint)stride, (nint)index);
    }

    public void SetBufferOffset(nuint offset, nuint index)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.setBufferOffset, (nint)offset, (nint)index);
    }

    public void SetBufferOffset(nuint offset, nuint stride, nuint index)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.setBufferOffset, (nint)offset, (nint)stride, (nint)index);
    }

    public void SetBytes(nint bytes, nuint length, nuint index)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.setBytes, bytes, (nint)length, (nint)index);
    }

    public void SetBytes(nint bytes, nuint length, nuint stride, nuint index)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.setBytes, bytes, (nint)length, (nint)stride, (nint)index);
    }

    public void SetImageblockWidth(nuint width, nuint height)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.setImageblockWidth, (nint)width, (nint)height);
    }

    public void SetIntersectionFunctionTable(MTLIntersectionFunctionTable intersectionFunctionTable, nuint bufferIndex)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.setIntersectionFunctionTable, intersectionFunctionTable.NativePtr, (nint)bufferIndex);
    }

    public void SetSamplerState(MTLSamplerState sampler, nuint index)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.setSamplerState, sampler.NativePtr, (nint)index);
    }

    public void SetStageInRegion(MTLBuffer indirectBuffer, nuint indirectBufferOffset)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.setStageInRegion, indirectBuffer.NativePtr, (nint)indirectBufferOffset);
    }

    public void SetTexture(MTLTexture texture, nuint index)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.setTexture, texture.NativePtr, (nint)index);
    }

    public void SetThreadgroupMemoryLength(nuint length, nuint index)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.setThreadgroupMemoryLength, (nint)length, (nint)index);
    }

    public void SetVisibleFunctionTable(MTLVisibleFunctionTable visibleFunctionTable, nuint bufferIndex)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.setVisibleFunctionTable, visibleFunctionTable.NativePtr, (nint)bufferIndex);
    }

    public void UpdateFence(MTLFence fence)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.updateFence, fence.NativePtr);
    }

    public void UseHeap(MTLHeap heap)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.useHeap, heap.NativePtr);
    }

    public void UseResource(MTLResource resource, MTLResourceUsage usage)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.useResource, resource.NativePtr, (nint)(uint)usage);
    }

    public void WaitForFence(MTLFence fence)
    {
        ObjectiveCRuntime.objc_msgSend(NativePtr, MTLComputeCommandEncoder_Selectors.waitForFence, fence.NativePtr);
    }

    public void Retain() => ObjectiveCRuntime.Retain(NativePtr);
    public void Release() => ObjectiveCRuntime.Release(NativePtr);
}
